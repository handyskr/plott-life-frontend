---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/template/Header.astro';
import { SignUpForm } from '../../components/auth/SignUpForm';
import { withQuery } from "ufo";

const searchParams = Astro.url?.searchParams;
const email = searchParams?.get('email');
const redirectURL = searchParams?.get('redirectURL');

// TODO: 이메일 인증 기능 추가
// withQuery('/auth/verify-email', {
//   redirectURL
// })
---
<Layout>
  <Header
    title='이메일로 시작하기'
    slot='header'
    showBackIcon={true}
    showHomeIcon={true}
  />
  <div class="max-w-lg mx-auto h-full flex flex-col justify-between px-6 py-8">
    <SignUpForm
      client:only="preact"
      email={email}
      successURL={redirectURL as string}
    />
  </div>
</Layout>
