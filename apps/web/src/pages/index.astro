---
import Layout from '@layouts/Layout.astro';
import Header from '@components/template/Header.astro';
import BottomNav from '@components/template/BottomNav.astro';

import { Input, Typography, Text } from '@plott-life/ui';
import RoomList from '@components/home/RoomList';
import Footer from '@components/template/Footer.astro';
const test = import.meta.env.PUBLIC_GTM_ID;

export const generateRooms = (count = 20): Room[] => {
  return Array.from({ length: count }, (_, i) => ({
    id: `${i + 1}`,
    image: 'https://placehold.co/400x300?text=Room+' + (i + 1),
    title: `테스트 숙소 ${i + 1}`,
    address: `서울특별시 중구 테스트로 ${i + 1}`,
    details: `침실 1 · 욕실 1 · ${20 + i}m²`,
    price: `₩${(50000 + i * 1000).toLocaleString()}/주`,
  }));
};

const rooms = generateRooms(20);
---

<Layout>
  <Header slot='header'>
    <div class='flex flex-col w-full'>
      <div class='flex justify-center items-center h-16'>PLOTT-LIFE</div>
      <div class='flex items-center px-6 pb-4 w-full shadow-[0_6px_12px_0_rgba(0,0,0,0.05)]'>
        <button
          class='flex items-center space-x-2 w-full px-6 h-14 border-[1px] rounded-[28px] border-gray-300 shadow-[0_0_20px_0_rgba(0,0,0,0.05)] hover:shadow-[0_0_20px_0_rgba(0,0,0,0.1)]'
        >
          <svg
            xmlns='http://www.w3.org/2000/svg'
            class='h-5 w-5 text-gray-500'
            fill='none'
            viewBox='0 0 24 24'
            stroke='currentColor'
          >
            <path
              stroke-linecap='round'
              stroke-linejoin='round'
              stroke-width='2'
              d='M21 21l-4-4m0 0A7 7 0 104 4a7 7 0 0013 13z'
            ></path>
          </svg>
          <span class='body5 text-gray-800'>나에게 맞는 방 검색하기</span>
        </button>
      </div>
    </div>
  </Header>

  <div class='bg-white p-6'>
    <RoomList
      client:visible
      initialRooms={rooms}
    />
  </div>
  <Footer />
  <BottomNav slot='footer' />
</Layout>
